task task1 << {
   println 'compiling source'
}

task task2() << {
   println 'compiling unit tests'
}

task2.dependsOn task1

task task3() << {
   println 'running unit tests'
}

task3.dependsOn task1
task3.dependsOn task2

task task4() << {
   println 'building the distribution'
}

task4.dependsOn task1
task4.dependsOn task3

// build sub project
// gradle -q -b <path_to_gradle_file_in_sub_prj> <task>
// Eg. $ gradle -q -b run_a_build/build.gradle task4
